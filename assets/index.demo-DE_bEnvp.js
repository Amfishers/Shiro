import{r as a,j as e}from"./index-CJFTI_qK.js";import{s as o}from"./dom-BowoBODo.js";import{c as f}from"./helper-CB7ordUq.js";import{B as h}from"./index-C8rElOhE.js";import"./owner-h7M5VfYZ.js";import"./use-is-dark-DybCws_h.js";import"./Shiki-CTAcukab.js";import"./index-BLLa4ovw.js";import"./viewport--HOndqPb.js";import"./spring-C80N1tKa.js";import"./proxy-BdjgO_cg.js";import"./use-event-callback-DohXEMMW.js";import"./StyledButton-2o_ICfj1.js";import"./index-BGgh87-F.js";import"./index-wwkJ1b8o.js";const p=a.forwardRef(({content:t,language:m,onChange:d,minHeight:c,className:g,padding:r=0},x)=>{const[s,i]=a.useState(t);a.useEffect(()=>{i(t)},[t]);const n={minHeight:c};return e.jsxs("div",{className:f("relative [&_*]:!font-mono [&_*]:!text-base [&_*]:!leading-normal",g),style:{padding:`${r}px`,"--padding":`${r*2}px`},contentEditable:!1,children:[e.jsx("textarea",{onKeyDown:o,onKeyUp:o,onPaste:o,contentEditable:!1,ref:x,className:"absolute size-[calc(100%-var(--padding))] resize-none overflow-hidden bg-transparent p-0 text-transparent caret-accent",style:n,value:s,onChange:l=>{i(l.target.value),d?.(l.target.value)}}),e.jsx(h,{className:"code-wrap pointer-events-none relative z-[1] !m-0 !p-0",style:n,lang:m,content:s})]})});p.displayName="CodeEditor";const u=()=>e.jsx("div",{className:"h-[300px] overflow-auto border p-4",children:e.jsx(p,{content:new Array(100).fill(null).map(()=>`const a = ${Math.random()};
`).join(""),language:"javascript"})});u.meta={title:"CodeEditor"};export{u as CodeEditorDemo};
